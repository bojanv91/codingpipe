<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>What to Log in Applications?</title>
		<meta name="description" content="I am writing self-notes that might be useful for other people as well on software development and programming in general.">

		<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"></link>
		<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"></link>
		<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"></link>
		<link rel="manifest" href="/site.webmanifest"></link>
		<link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="CodingPipe.com">
		<link rel="alternate" href="/feed/feed.json" type="application/json" title="CodingPipe.com">
		<meta name="generator" content="Eleventy v2.0.1">
		
		<style>/**
 * okaidia theme for JavaScript, CSS and HTML
 * Loosely based on Monokai textmate theme by http://www.monokai.nl/
 * @author ocodia
 */

code[class*="language-"],
pre[class*="language-"] {
	color: #f8f8f2;
	background: none;
	text-shadow: 0 1px rgba(0, 0, 0, 0.3);
	font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
	font-size: 1em;
	text-align: left;
	white-space: pre;
	word-spacing: normal;
	word-break: normal;
	word-wrap: normal;
	line-height: 1.5;

	-moz-tab-size: 4;
	-o-tab-size: 4;
	tab-size: 4;

	-webkit-hyphens: none;
	-moz-hyphens: none;
	-ms-hyphens: none;
	hyphens: none;
}

/* Code blocks */
pre[class*="language-"] {
	padding: 1em;
	margin: .5em 0;
	overflow: auto;
	border-radius: 0.3em;
}

:not(pre) > code[class*="language-"],
pre[class*="language-"] {
	background: #272822;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
	padding: .1em;
	border-radius: .3em;
	white-space: normal;
}

.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
	color: #8292a2;
}

.token.punctuation {
	color: #f8f8f2;
}

.token.namespace {
	opacity: .7;
}

.token.property,
.token.tag,
.token.constant,
.token.symbol,
.token.deleted {
	color: #f92672;
}

.token.boolean,
.token.number {
	color: #ae81ff;
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.inserted {
	color: #a6e22e;
}

.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string,
.token.variable {
	color: #f8f8f2;
}

.token.atrule,
.token.attr-value,
.token.function,
.token.class-name {
	color: #e6db74;
}

.token.keyword {
	color: #66d9ef;
}

.token.regex,
.token.important {
	color: #fd971f;
}

.token.important,
.token.bold {
	font-weight: bold;
}
.token.italic {
	font-style: italic;
}

.token.entity {
	cursor: help;
}
/*
 * New diff- syntax
 */

pre[class*="language-diff-"] {
	--eleventy-code-padding: 1.25em;
	padding-left: var(--eleventy-code-padding);
	padding-right: var(--eleventy-code-padding);
}
.token.deleted {
	background-color: hsl(0, 51%, 37%);
	color: inherit;
}
.token.inserted {
	background-color: hsl(126, 31%, 39%);
	color: inherit;
}

/* Make the + and - characters unselectable for copy/paste */
.token.prefix.unchanged,
.token.prefix.inserted,
.token.prefix.deleted {
	-webkit-user-select: none;
	user-select: none;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	padding-top: 2px;
	padding-bottom: 2px;
}
.token.prefix.inserted,
.token.prefix.deleted {
	width: var(--eleventy-code-padding);
	background-color: rgba(0,0,0,.2);
}

/* Optional: full-width background color */
.token.inserted:not(.prefix),
.token.deleted:not(.prefix) {
	display: block;
	margin-left: calc(-1 * var(--eleventy-code-padding));
	margin-right: calc(-1 * var(--eleventy-code-padding));
	text-decoration: none; /* override del, ins, mark defaults */
	color: inherit; /* override del, ins, mark defaults */
}
* { box-sizing: border-box; }
/* Defaults */
:root {
	--font-family: -apple-system, system-ui, sans-serif;
	--font-family-monospace: Consolas, Menlo, Monaco, Andale Mono WT, Andale Mono, Lucida Console, Lucida Sans Typewriter, DejaVu Sans Mono, Bitstream Vera Sans Mono, Liberation Mono, Nimbus Mono L, Courier New, Courier, monospace;
}

/* Theme colors */
:root {
	--color-gray-20: #e0e0e0;
	--color-gray-50: #C0C0C0;
	--color-gray-90: #333;
	--background-color: #fff;
	--text-color: var(--color-gray-90);
	--text-color-link: #082840;
	--text-color-link-active: #5f2b48;
	--text-color-link-visited: #17050F;
	--syntax-tab-size: 2;
}

@media (prefers-color-scheme: dark) {
	:root {
		--color-gray-20: #e0e0e0;
		--color-gray-50: #C0C0C0;
		--color-gray-90: #dad8d8;
		/* --text-color is assigned to --color-gray-_ above */
		--text-color-link: #1493fb;
		--text-color-link-active: #6969f7;
		--text-color-link-visited: #a6a6f8;
		--background-color: #15202b;
	}
}


/* Global stylesheet */
* {
	box-sizing: border-box;
}

html,
body {
	padding: 0;
	margin: 0 auto;
	font-family: var(--font-family);
	color: var(--text-color);
	background-color: var(--background-color);
}

html {
	overflow-y: scroll;
}

body {
	max-width: 45em;
}

/* https://www.a11yproject.com/posts/how-to-hide-content/ */
.visually-hidden {
	clip: rect(0 0 0 0);
	clip-path: inset(50%);
	height: 1px;
	overflow: hidden;
	position: absolute;
	white-space: nowrap;
	width: 1px;
}

p:last-child {
	margin-bottom: 0;
}

p {
	line-height: 1.5;
}

li {
	line-height: 1.5;
}

a[href] {
	color: var(--text-color-link);
}

	a[href]:visited {
		color: var(--text-color-link-visited);
	}

	a[href]:hover,
	a[href]:active {
		color: var(--text-color-link-active);
	}

main {
	padding: 1rem;
}

	main :first-child {
		margin-top: 0;
	}

header {
	border-bottom: 1px dashed var(--color-gray-20);
}

	header:after {
		content: "";
		display: table;
		clear: both;
	}

.links-nextprev {
	list-style: none;
	border-top: 1px dashed var(--color-gray-20);
	padding: 1em 0;
}

table {
	margin: 1em 0;
}

	table td,
	table th {
		padding-right: 1em;
	}

pre,
code {
	font-family: var(--font-family-monospace);
}

	pre:not([class*="language-"]) {
		margin: .5em 0;
		line-height: 1.375; /* 22px /16 */
		-moz-tab-size: var(--syntax-tab-size);
		-o-tab-size: var(--syntax-tab-size);
		tab-size: var(--syntax-tab-size);
		-webkit-hyphens: none;
		-ms-hyphens: none;
		hyphens: none;
		direction: ltr;
		text-align: left;
		white-space: pre;
		word-spacing: normal;
		word-break: normal;
	}

code {
	word-break: break-all;
}

/* Header */
header {
	display: flex;
	gap: 1em .5em;
	flex-wrap: wrap;
	align-items: center;
	padding: 1em;
}

.home-link {
	font-size: 1em; /* 16px /16 */
	font-weight: 700;
	margin-right: 2em;
}

	.home-link:link:not(:hover) {
		text-decoration: none;
	}

/* Nav */
.nav {
	display: flex;
	padding: 0;
	margin: 0;
	list-style: none;
}

.nav-item {
	display: inline-block;
	margin-right: 1em;
}

	.nav-item a[href]:not(:hover) {
		text-decoration: none;
	}

.nav a[href][aria-current="page"] {
	text-decoration: underline;
}

/* Posts list */
.postlist {
	/*list-style: none;*/
	padding: 0;
	/*padding-left: 1.5rem;*/
}

.postlist-item {
	display: flex;
	flex-wrap: wrap;
	align-items: baseline;
	/*counter-increment: start-from -1;*/
	margin-bottom: 1em;
}

	.postlist-item:before {
		/*display: inline-block;
	pointer-events: none;
	content: "" counter(start-from, decimal-leading-zero) ". ";
		line-height: 100%;
		text-align: right;
		margin-left: -1.5rem;*/
	}

	.postlist-date,
	.postlist-item:before {
		font-size: 0.8125em; /* 13px /16 */
		color: var(--color-gray-90);
	}

.postlist-date {
	word-spacing: -0.5px;
	margin-left: auto; /* Push date to the most right position */
	color: var(--color-gray-50);
}

.postlist-link {
	text-decoration: none; /* don't underline the links here */
	font-size: 1em; /*1.1875em;*/ /* 19px /16 */
	font-weight: 400; /* 700 */
	/*flex-basis: calc(100% - 1.5rem);
	padding-left: .25em;
	padding-right: .5em;
	text-underline-position: from-font;
	text-underline-offset: 0;
	text-decoration-thickness: 1px;*/
}

	.postlist-link:focus,
	.postlist-link:hover {
		text-decoration: underline;
	}

.postlist-item-active .postlist-link {
	font-weight: bold;
}

/* Tags */
.post-tag {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	/*text-transform: capitalize;*/
	/*font-style: italic;*/
	text-decoration: none;
}

	.post-tag:focus,
	.post-tag:hover {
		text-decoration: underline;
	}

.postlist-item > .post-tag {
	align-self: center;
}

/* Tags list */
.post-metadata {
	display: inline-flex;
	flex-wrap: wrap;
	gap: .5em;
	list-style: none;
	padding: 0;
	margin: 0;
	color: var(--color-gray-50);
}

	.post-metadata time {
		/*margin-right: 1em;*/
	}

	.post-metadata .post-tag {
		color: inherit;
	}

/* Direct Links / Markdown Headers */
.header-anchor {
	text-decoration: none;
	font-style: normal;
	font-size: 1em;
	margin-left: .1em;
}

a[href].header-anchor,
a[href].header-anchor:visited {
	color: transparent;
}

	a[href].header-anchor:focus,
	a[href].header-anchor:hover {
		text-decoration: underline;
	}

	a[href].header-anchor:focus,
	:hover > a[href].header-anchor {
		color: #aaa;
	}

h2 + .header-anchor {
	font-size: 1.5em;
}

/*
		***************
		Custom
		***************
*/

h1 {
	margin-bottom: 0;
}</style>
	</head>
	<body>
		<a href="#skip" class="visually-hidden">Skip to main content</a>

		<header>
			<a href="/" class="home-link">CodingPipe.com</a>
			<nav>
				<h2 class="visually-hidden">Top level navigation menu</h2>
				<ul class="nav">
					<li class="nav-item"><a href="/links/">Favorite Links</a></li>
					<li class="nav-item"><a href="/tags/">Tags</a></li>
					<li class="nav-item"><a href="/about/">About</a></li>
				</ul>
			</nav>
		</header>

		<main id="skip">
			
<h1>What to Log in Applications?</h1>

<ul class="post-metadata">
	<li><time datetime="2024-01-07">Jan 7, 2024</time></li>
	<li><span> • </span></li>
	<li><span>4 min read</span></li>
	<li><span> • </span></li>
		<li><a href="/tags/logging/" class="post-tag">Logging</a></li>
</ul>

<p>Logging is a critical aspect of application development, but knowing exactly what to log can make the difference between a debugging nightmare and a smooth troubleshooting process.
Let's start by examining the key types of information you should consider logging in your applications</p>
<p>You could log:</p>
<ul>
<li>Important and useful information for developers, QAs, or support</li>
<li>Unhandled exceptions</li>
<li>System changes (startup, shutdown, restart, crash)</li>
<li>Resource issues (disk space to be full, memory exhausted)</li>
<li>Network connections to external services (failure, success)</li>
<li>Critical changes (application, data)</li>
<li>Critical workflows (e.g. booking process, new customer sign-up process)</li>
<li>Auth and access</li>
</ul>
<h2 id="what-properties-to-log" tabindex="-1">What Properties to Log? <a class="header-anchor" href="#what-properties-to-log">#</a></h2>
<p>Use the following log properties where applicable:</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Timestamp</code></td>
<td>the log event's timestamp</td>
</tr>
<tr>
<td><code>Level</code></td>
<td>the log level, e.g. info, debug, warning, error, fatal</td>
</tr>
<tr>
<td><code>SourceContext</code></td>
<td>the full name of the class from where the log was added (the logger name of the log entry)</td>
</tr>
<tr>
<td><code>Message</code></td>
<td>the log event's message</td>
</tr>
<tr>
<td><code>Exception</code></td>
<td>the full exception message and stack trace (if there is any)</td>
</tr>
<tr>
<td><code>RequestMethod</code></td>
<td>the HTTP request method (e.g. POST, GET, PUT, DELETE)</td>
</tr>
<tr>
<td><code>RequestPath</code></td>
<td>the HTTP request path</td>
</tr>
<tr>
<td><code>StatusCode</code></td>
<td>the HTTP response status code</td>
</tr>
<tr>
<td><code>ClientIP</code></td>
<td>the request caller's IP address</td>
</tr>
<tr>
<td><code>CorrelationId</code></td>
<td>the ID for request or operation tracking across multiple services</td>
</tr>
<tr>
<td><code>MachineName</code></td>
<td>the name of the machine on which the service is running</td>
</tr>
<tr>
<td><code>Version</code></td>
<td>the version of the app</td>
</tr>
<tr>
<td><code>UserAgent</code></td>
<td>the HTTP user agent</td>
</tr>
<tr>
<td><code>UserId</code></td>
<td>the authenticated user's ID making the request</td>
</tr>
</tbody>
</table>
<h2 id="what-not-to-log" tabindex="-1">What NOT to Log? <a class="header-anchor" href="#what-not-to-log">#</a></h2>
<p>Always consider the security and privacy implications of the information you log, especially in production environments. Implementing proper log management and reviewing your logging practices regularly can help ensure that your logs serve their intended purpose without compromising sensitive data.</p>
<p>Here's a list of things you should generally avoid logging:</p>
<ul>
<li>Sensitive user information, such as passwords, credit card numbers, or other personally identifiable information (PII)</li>
<li>Authentication tokens, secrets, and API keys</li>
<li>Full request or response payloads - log only relevant parts or use automatic tools to obfuscate sensitive data</li>
<li>Database connection strings</li>
<li>Excessive debug information or internal implementation details</li>
<li>Redundant information that doesn't contribute to the diagnosis of issues or monitoring of the system</li>
<li>Production environment secrets</li>
<li>Customer-specific names and information</li>
</ul>
<hr>
<p>Log levels and their appropriate use:</p>
<p>DEBUG: Detailed information for debugging
INFO: General information about application flow
WARN: Potentially harmful situations
ERROR: Error events that might still allow the application to continue running
FATAL: Severe errors that cause the application to abort</p>
<p>Essential information to include in log entries:</p>
<p>Timestamp (including timezone)
Log level
Thread ID or name
Class or module name
Method or function name
Line number in the source code
User ID or session ID (if applicable)
Relevant contextual data</p>
<p>Structured logging:</p>
<p>Using JSON or other machine-readable formats
Benefits for log parsing and analysis</p>
<p>Sensitive data handling:</p>
<p>Avoiding logging passwords, credit card numbers, or other sensitive information
Techniques for masking or obfuscating sensitive data when necessary</p>
<p>Performance considerations:</p>
<p>Asynchronous logging to minimize impact on application performance
Log rotation and archiving strategies</p>
<p>Contextual logging:</p>
<p>Using thread-local storage or similar mechanisms to maintain context across method calls
Correlation IDs for tracing requests across distributed systems</p>
<p>Error logging best practices:</p>
<p>Including stack traces
Logging the full exception details
Providing context around the error</p>
<p>Logging in different environments:</p>
<p>Adjusting log levels and verbosity for development, staging, and production</p>
<p>Integration with monitoring and alerting systems:</p>
<p>Using logs to trigger alerts
Centralized log management</p>
<p>Compliance and legal considerations:</p>
<p>Logging for audit trails
Data retention policies
GDPR and other regulatory requirements</p>
<p>Logging patterns and anti-patterns:</p>
<p>Do: Use descriptive log messages
Don't: Log in catch blocks without re-throwing the exception
Do: Use parameterized logging to prevent injection attacks
Don't: Overuse logging, which can lead to noise and performance issues</p>
<p>Testing logging implementations:</p>
<p>Unit tests for log output
Ensuring logs are useful for debugging in production scenarios</p>

<ul class="links-nextprev"><li>Previous: <a href="/posts/powershell-snippets/">PowerShell Command Snippets</a></li><li>Next: <a href="/posts/problem-solving-guide-for-developers/">Problem-Solving Guide for Developers</a></li>
</ul>

		</main>

		<footer></footer>

		<!-- This page `/posts/what-to-log/` was built on 2024-08-02T11:51:03.248Z -->
	</body>
</html>
